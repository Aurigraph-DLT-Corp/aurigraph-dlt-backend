# Aurigraph V11 Standalone Configuration

# Application
quarkus.application.name=Aurigraph DLT
quarkus.application.version=12.0.0

# HTTP Configuration (HTTPS termination handled by Nginx reverse proxy)
# Backend runs HTTP-only on localhost, Nginx handles SSL/TLS
quarkus.http.port=9000
quarkus.http.host=0.0.0.0
quarkus.http.insecure-requests=enabled
quarkus.http.ssl-port=0
# SSL configuration commented out - Nginx handles TLS termination
# quarkus.http.ssl.certificate.key-store-file=certs/keystore.p12
# quarkus.http.ssl.certificate.key-store-password=aurigraph@2025
# quarkus.http.ssl.certificate.key-store-file-type=PKCS12
# quarkus.http.ssl.protocols=TLSv1.3
# quarkus.http.ssl.cipher-suites=TLS_AES_256_GCM_SHA384,TLS_AES_128_GCM_SHA256

# Test Configuration - Disable SSL for tests
%test.quarkus.http.port=8081
%test.quarkus.http.insecure-requests=enabled
%test.quarkus.http.ssl-port=0
%test.quarkus.http.ssl.certificate.key-store-file=
%test.quarkus.grpc.server.enabled=true

# Security Configuration - Allow unauthenticated access when @PermitAll is used
# This configures Quarkus JAXRS to NOT automatically deny unauthenticated requests
# Instead, @PermitAll annotation is respected to allow public endpoints
quarkus.security.jaxrs.deny-unauthenticated-requests=false

# Test Security Configuration - Explicitly allow unauthenticated access in tests
%test.quarkus.security.jaxrs.deny-unauthenticated-requests=false

# Test Batch Processor Configuration - Use moderate sizes for tests
%test.batch.processor.min.size=1000
%test.batch.processor.max.size=10000
%test.batch.processor.default.size=5000
%test.batch.processor.parallel.workers=4
%test.batch.processor.adaptation.interval.ms=100

# Test JWT Configuration - Disable JWT verification for tests
# This allows testing of endpoints with @PermitAll without requiring valid JWT tokens
%test.quarkus.smallrye-jwt.enabled=false
%test.quarkus.smallrye-jwt.verify.signature=false
%test.smallrye.jwt.verify.key.location=file:///dev/null

# Test Security Profile - Completely disable authentication for tests
# This ensures all endpoints with @PermitAll or any endpoints are accessible in tests
%test.quarkus.http.auth.basic=false
%test.quarkus.oidc.enabled=false
%test.quarkus.oidc.client-id=
%test.quarkus.oidc.client-secret=
%test.quarkus.oidc.auth-server-url=

# HTTP/2 Configuration for 2M+ TPS - ULTRA OPTIMIZED (Oct 15, 2025)
# Increased concurrency and buffer sizes for maximum throughput
quarkus.http.http2=true
quarkus.http.limits.max-concurrent-streams=100000
quarkus.http.limits.max-frame-size=16777215

quarkus.http.limits.max-header-size=65536
quarkus.http.limits.max-chunk-size=16384
quarkus.http.io-threads=4
# Use quarkus.thread-pool.max-threads instead (configured below)

# gRPC Configuration for High Performance (HTTP/2 Internal Communication - Phase 4B)
# ENABLED for internal service-to-service communication (50-70% throughput improvement expected)
# UPDATED: November 26, 2025 - Added keep-alive and connection management settings
quarkus.grpc.server.enabled=true
quarkus.grpc.server.port=9001
quarkus.grpc.server.host=0.0.0.0
quarkus.grpc.server.use-separate-server=false
quarkus.grpc.server.enable-reflection-service=true

# Message size limits
quarkus.grpc.server.max-inbound-message-size=16777216
quarkus.grpc.server.max-inbound-metadata-size=32768

# Keep-alive settings for connection health
quarkus.grpc.server.keep-alive-time=5m
quarkus.grpc.server.keep-alive-timeout=20s
quarkus.grpc.server.permit-keep-alive-time=1m
quarkus.grpc.server.permit-keep-alive-without-calls=false

# Connection lifecycle management
quarkus.grpc.server.max-connection-idle=10m
quarkus.grpc.server.max-connection-age=30m
quarkus.grpc.server.max-connection-age-grace=5m

# gRPC Client Configuration - For Service-to-Service Communication
# Consensus Service Client
quarkus.grpc.clients.consensus.host=localhost
quarkus.grpc.clients.consensus.port=9001
quarkus.grpc.clients.consensus.plain-text=true
quarkus.grpc.clients.consensus.use-quarkus-grpc-client=true
quarkus.grpc.clients.consensus.max-inbound-message-size=16777216
quarkus.grpc.clients.consensus.keep-alive-time=30
quarkus.grpc.clients.consensus.keep-alive-timeout=5

# Blockchain Service Client
quarkus.grpc.clients.blockchain.host=localhost
quarkus.grpc.clients.blockchain.port=9001
quarkus.grpc.clients.blockchain.plain-text=true
quarkus.grpc.clients.blockchain.use-quarkus-grpc-client=true
quarkus.grpc.clients.blockchain.max-inbound-message-size=16777216
quarkus.grpc.clients.blockchain.keep-alive-time=30
quarkus.grpc.clients.blockchain.keep-alive-timeout=5

# Transaction Service Client
quarkus.grpc.clients.transaction.host=localhost
quarkus.grpc.clients.transaction.port=9001
quarkus.grpc.clients.transaction.plain-text=true
quarkus.grpc.clients.transaction.use-quarkus-grpc-client=true
quarkus.grpc.clients.transaction.max-inbound-message-size=16777216
quarkus.grpc.clients.transaction.keep-alive-time=30
quarkus.grpc.clients.transaction.keep-alive-timeout=5

# Test mode gRPC client configuration
%test.quarkus.grpc.clients.consensus.host=localhost
%test.quarkus.grpc.clients.consensus.port=9099
%test.quarkus.grpc.clients.blockchain.host=localhost
%test.quarkus.grpc.clients.blockchain.port=9099
%test.quarkus.grpc.clients.transaction.host=localhost
%test.quarkus.grpc.clients.transaction.port=9099

# ==================== SPRINT 15 PHASE 2: CODE OPTIMIZATIONS ====================

# Transaction Batching Optimization (+15% TPS = +450K)
optimization.transaction.batch.enabled=true
optimization.transaction.batch.size=10000
optimization.transaction.batch.timeout.ms=1000
optimization.transaction.batch.fork.threshold=100

# Consensus Pipelining Optimization (+10% TPS = +300K)
optimization.consensus.pipeline.enabled=true
optimization.consensus.validation.threads=16
optimization.consensus.aggregation.threads=8
optimization.consensus.finalization.threads=4

# Memory Pooling Optimization (+8% TPS = +240K)
optimization.memory.pool.enabled=true

# Transaction Context Pool
optimization.pool.transaction.initial.size=5000
optimization.pool.transaction.max.size=50000
optimization.pool.transaction.acquire.timeout.ms=10

# Validation Context Pool
optimization.pool.validation.initial.size=1000
optimization.pool.validation.max.size=10000
optimization.pool.validation.acquire.timeout.ms=5

# Message Buffer Pool
optimization.pool.message.initial.size=2000
optimization.pool.message.max.size=20000
optimization.pool.message.acquire.timeout.ms=5

# Network Batching Optimization (+5% TPS = +150K)
optimization.network.batch.enabled=true
optimization.network.batch.size=1000
optimization.network.batch.flush.interval.ms=50
optimization.network.compression.enabled=true
optimization.network.compression.level=6

# Development Settings (Smaller batches, more conservative)
%dev.optimization.transaction.batch.size=1000
%dev.optimization.transaction.batch.timeout.ms=500
%dev.optimization.network.batch.size=100
%dev.optimization.network.batch.flush.interval.ms=100
%dev.optimization.pool.transaction.initial.size=500
%dev.optimization.pool.transaction.max.size=5000

# Production Settings (Optimized for maximum throughput)
%prod.optimization.transaction.batch.size=10000
%prod.optimization.transaction.batch.timeout.ms=1000
%prod.optimization.network.batch.size=1000
%prod.optimization.network.batch.flush.interval.ms=50
%prod.optimization.pool.transaction.initial.size=5000
%prod.optimization.pool.transaction.max.size=50000
%prod.consensus.pipeline.depth=90

# ==================== LOGGING CONFIGURATION (ELK Stack Integration) ====================

# Console Logging - JSON Format for ELK
quarkus.log.console.json=true


# Console Logging - Standard Format (for development)
%dev.quarkus.log.console.json=false
%dev.quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

# Log Levels
quarkus.log.level=INFO
quarkus.log.category."io.aurigraph".level=INFO
quarkus.log.category."io.aurigraph.v11.logging".level=DEBUG

# Development log levels (more verbose)
%dev.quarkus.log.level=DEBUG
%dev.quarkus.log.category."io.aurigraph".level=DEBUG
%dev.quarkus.log.category."io.aurigraph.v11.consensus".level=DEBUG
%dev.quarkus.log.category."io.aurigraph.v11.crypto".level=DEBUG
%dev.quarkus.log.category."io.aurigraph.v11.bridge".level=DEBUG
%dev.quarkus.log.category."io.aurigraph.v11.ai".level=DEBUG

# Production log levels (more restrictive)
%prod.quarkus.log.level=INFO
%prod.quarkus.log.category."io.aurigraph".level=INFO
%prod.quarkus.log.category."io.aurigraph.v11.logging".level=INFO

# File Logging - JSON Format for Logstash Collection
# DEPRECATED - Use quarkus.log.file.path instead: quarkus.log.file.enable=true
quarkus.log.file.path=/var/log/aurigraph/application.log

quarkus.log.file.rotation.max-file-size=100M
quarkus.log.file.rotation.max-backup-index=10
quarkus.log.file.rotation.rotate-on-boot=true

# Development file logging (local directory)
%dev.quarkus.log.file.path=./logs/application.log

# Test mode (disable file logging)
# %test.quarkus.log.file.path= # Commented out - empty value causes validation error

# Structured Logging Configuration


# Development environment tag


# Production environment tag


# Logstash destination (for direct TCP shipping - optional)
# Uncomment to enable direct Logstash shipping
# quarkus.log.handler.logstash.enabled=true
# quarkus.log.handler.logstash.host=localhost
# quarkus.log.handler.logstash.port=5000
# quarkus.log.handler.logstash.protocol=TCP

# Database configuration moved to "DATABASE CONFIGURATION" section (line ~611)

# LevelDB Configuration (Per-Node Embedded Storage - Bare Metal)
# Path is outside Docker containers for persistence and performance
leveldb.data.path=~/.aurigraph/leveldb/${consensus.node.id:node-1}
leveldb.cache.size.mb=256
leveldb.write.buffer.mb=64
leveldb.compression.enabled=true

# Development LevelDB settings
%dev.leveldb.data.path=~/.aurigraph/leveldb/dev-node
%dev.leveldb.cache.size.mb=128
%dev.leveldb.write.buffer.mb=32

# Production LevelDB settings (Bare Metal - Outside Containers)
%prod.leveldb.data.path=/var/lib/aurigraph/leveldb/${consensus.node.id:prod-node-1}
%prod.leveldb.cache.size.mb=512
%prod.leveldb.write.buffer.mb=128

# Health checks
quarkus.smallrye-health.root-path=/q/health

# Metrics
quarkus.micrometer.enabled=true
quarkus.micrometer.export.prometheus.enabled=true

# CORS Configuration for dlt.aurigraph.io deployment (HTTPS-only)
# NOTE: CORS support requires quarkus-vertx-http extension (should be included)
# WARNING: If showing as unrecognized, verify quarkus-vertx-http dependency in pom.xml
quarkus.http.cors=true
quarkus.http.cors.origins=https://dlt.aurigraph.io:9443,https://dev4.aurex.in,https://aurigraphdlt.dev4.aurex.in,http://localhost:5173,https://localhost:5173,http://localhost:3000,https://localhost:3000
quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
quarkus.http.cors.headers=Content-Type,Authorization,X-Requested-With,Accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers
quarkus.http.cors.exposed-headers=Location,Content-Disposition
quarkus.http.cors.access-control-max-age=86400
quarkus.http.cors.access-control-allow-credentials=true

# Native compilation settings
quarkus.native.additional-build-args=--initialize-at-run-time=io.netty.channel.unix.Socket,--initialize-at-run-time=io.grpc.netty.shaded.io.netty.channel.unix.Socket
quarkus.native.container-build=true
quarkus.native.container-runtime=docker
quarkus.native.builder-image=quay.io/quarkus/ubi-quarkus-mandrel:24-java21
quarkus.native.enable-https-url-handler=true
quarkus.native.resources.includes=*.proto

# Virtual Threads (Java 21) - DISABLED IN PHASE 4A
# Phase 4A Optimization: Replaced virtual threads with platform thread pool
# Reduces CPU overhead from 56.35% to <5%, improves TPS by +350K
quarkus.virtual-threads.enabled=false


# ==================== PHASE 4A: PLATFORM THREAD POOL CONFIGURATION ====================
# Replaces virtual threads to reduce CPU overhead from 56.35% to <5%
# Expected TPS improvement: +350K (776K → 1.1M+)
aurigraph.thread.pool.size=256
aurigraph.thread.pool.queue.size=500000
aurigraph.thread.pool.keep.alive.seconds=60
aurigraph.thread.pool.metrics.enabled=true

# Performance Tuning for 2M+ TPS

# These TCP optimizations are typically OS-level settings, not Quarkus properties

# gRPC Network Optimization
# NOTE: These are custom properties (not standard Quarkus), may be used by application code
# If not referenced in Java code, they can be safely removed
grpc.max-concurrent-streams=10000
grpc.initial-window-size=1048576
grpc.max-frame-size=16777215
grpc.keep-alive-time=30
grpc.keep-alive-timeout=5
grpc.event-loop-threads=0
grpc.use-epoll=false

# Connection Pool Configuration
grpc.pool.max-connections=1000
grpc.pool.min-connections=10
grpc.pool.connection-timeout=30
grpc.pool.health-check-interval=10
grpc.pool.max-idle-time=300

# Stream Compression Configuration
grpc.compression.enabled=true
grpc.compression.algorithm=gzip
grpc.compression.min-size=1024
grpc.compression.level=6
grpc.compression.adaptive=true

# Load Balancer Configuration
grpc.lb.algorithm=LEAST_CONNECTIONS
grpc.lb.health-check-interval=5
grpc.lb.failover-threshold=3
grpc.lb.recovery-interval=30
grpc.lb.sticky-sessions=false

# HyperRAFT++ Consensus Configuration - SPRINT 6 OPTIMIZED (Oct 20, 2025: 3.5M+ TPS Target)
consensus.node.id=aurigraph-v11-xeon15-node-1
consensus.validators=aurigraph-v11-xeon15-node-1,aurigraph-v11-xeon15-node-2,aurigraph-v11-xeon15-node-3,aurigraph-v11-xeon15-node-4,aurigraph-v11-xeon15-node-5
consensus.election.timeout.ms=750
consensus.heartbeat.interval.ms=75
consensus.batch.size=175000
consensus.pipeline.depth=45
consensus.parallel.threads=896
consensus.target.tps=3500000

# Development mode (HTTP-only for easier local testing)
%dev.quarkus.http.port=9000
%dev.quarkus.http.insecure-requests=enabled
%dev.quarkus.http.ssl-port=0
%dev.quarkus.http.ssl.certificate.key-store-file=
%dev.quarkus.grpc.server.port=9001
%dev.quarkus.log.level=DEBUG
%dev.quarkus.log.category."io.aurigraph".level=DEBUG
%dev.quarkus.grpc.server.reflection-service=true

# Production mode (HTTP-only, HTTPS handled by Nginx)
%prod.quarkus.http.insecure-requests=enabled
%prod.quarkus.http.ssl-port=0

# Development consensus settings - SPRINT 6 OPTIMIZED (Oct 20, 2025: 3.5M+ TPS)
# Tuned based on performance analysis: larger batches + more parallelism
%dev.consensus.batch.size=87500
%dev.consensus.parallel.threads=896
%dev.consensus.target.tps=3500000
%dev.consensus.election.timeout.ms=500
%dev.consensus.heartbeat.interval.ms=50

# Production consensus settings - SPRINT 6 ULTRA (Oct 20, 2025: 3.5M+ TPS)
%prod.consensus.batch.size=175000
%prod.consensus.pipeline.depth=90
%prod.consensus.parallel.threads=1152
%prod.consensus.target.tps=3500000
%prod.consensus.election.timeout.ms=300
%prod.consensus.heartbeat.interval.ms=25

# ==================== PHASE 4A: ML-BASED TRANSACTION ORDERING (NOVEMBER 2025) ====================
# ML-Driven Transaction Scoring for Optimized Consensus Performance
# Target: 776K → 926-1026K TPS (150-250K TPS improvement)
# Status: Implementation Phase - Ready for Integration

# ML Transaction Scoring - Core Configuration
ml.scoring.enabled=true
ml.scoring.batch.size=25000
ml.scoring.learning.interval=10000

# ML Scoring Weights (Adaptive - Updated by Online Learning)
ml.scoring.weight.size=0.2
ml.scoring.weight.senderhotness=0.25
ml.scoring.weight.gasprice=0.15
ml.scoring.weight.age=0.2
ml.scoring.weight.dependency=0.2

# ML Scoring Thresholds - OPTIMIZED (Nov 29, 2025 - V12 Priority 5)
# Lowered batch threshold from 50 to 10 for maximum ML engagement
ml.scoring.batch.threshold=10
ml.scoring.size.max.bytes=1000
ml.scoring.age.max.starvation.ms=5000
ml.scoring.dependency.max.count=10

# Development ML Scoring Settings (more conservative)
%dev.ml.scoring.batch.size=5000
%dev.ml.scoring.learning.interval=1000
%dev.ml.scoring.batch.threshold=10

# Production ML Scoring Settings (optimized for 2M+ TPS - Nov 29, 2025)
%prod.ml.scoring.batch.size=25000
%prod.ml.scoring.learning.interval=5000
%prod.ml.scoring.enabled=true
%prod.ml.scoring.batch.threshold=10

# ==================== PHASE 4B: PARALLEL CONSENSUS ENHANCEMENT (NOVEMBER 2025) ====================
# Virtual Thread Executors + Parallel Replication for Ultra-High Throughput
# Target: 926K → 1226-1426K TPS (300-500K TPS improvement)
# Status: Implementation Phase

# PHASE 4B-1: Virtual Thread Executor Configuration
# Enables Java 21 Virtual Threads for consensus operations
# Benefits: 1KB/thread vs 1MB/thread, enables true parallelism
consensus.virtual.threads.enabled=true
consensus.virtual.threads.heartbeat.count=2
consensus.virtual.threads.election.count=4
consensus.virtual.threads.batch.unbounded=true

# PHASE 4B-2: Parallel Replication Configuration
# Enables parallel batch-based replication with 8x parallelism
consensus.replication.parallelism=8
consensus.replication.batch.size=32
consensus.replication.quorum.fast=true

# PHASE 4B-3: Consensus Timing Optimization
# Reduced timeouts for faster detection + adaptive heartbeat
consensus.election.timeout.min=100
consensus.election.timeout.max=200
consensus.heartbeat.interval=50
consensus.heartbeat.adaptive=true

# Development PHASE 4B Settings (more conservative parallelism for testing)
%dev.consensus.virtual.threads.enabled=true
%dev.consensus.virtual.threads.heartbeat.count=2
%dev.consensus.virtual.threads.election.count=2
%dev.consensus.replication.parallelism=4
%dev.consensus.replication.batch.size=16
%dev.consensus.election.timeout.min=150
%dev.consensus.election.timeout.max=300

# Production PHASE 4B Settings (maximum parallelism for 2M+ TPS - ENHANCED Nov 29, 2025)
# V12 Priority 5 Optimization: Increased parallelism for 2M+ TPS target
%prod.consensus.virtual.threads.enabled=true
%prod.consensus.virtual.threads.heartbeat.count=8
%prod.consensus.virtual.threads.election.count=16
%prod.consensus.replication.parallelism=32
%prod.consensus.replication.batch.size=128
%prod.consensus.election.timeout.min=50
%prod.consensus.election.timeout.max=100
%prod.consensus.heartbeat.adaptive=true

# ==================== AI OPTIMIZATION CONFIGURATION - COMPREHENSIVE (AV11-2002) ====================
# Core AI Optimization - SPRINT 6 ENHANCED (Oct 20, 2025: 3.5M+ TPS Target)
ai.optimization.enabled=true
ai.optimization.learning.rate=0.0001
ai.optimization.model.update.interval.ms=5000
ai.optimization.prediction.window.ms=2000
ai.optimization.anomaly.threshold=0.90
ai.optimization.target.tps=3500000
ai.optimization.min.confidence=0.80

# AI Module Enable/Disable Flags (for AIConfigurationValidationTest)
ai.consensus.optimizer.enabled=true
ai.predictive.ordering.enabled=true
ai.anomaly.detection.enabled=true
ai.adaptive.batching.enabled=true

# AI Performance Targets - SPRINT 6 (for AIConfigurationValidationTest)
ai.consensus.target.tps=3500000
ai.consensus.target.latency.ms=100
ai.consensus.target.success.rate=0.99
ai.consensus.anomaly.threshold=0.90
ai.consensus.model.update.interval.ms=30000
ai.consensus.prediction.window.size=100

# Machine Learning Configuration (for AIConfigurationValidationTest)
ai.ml.learning.rate=0.001
ai.ml.epochs=100
ai.ml.batch.size=32
ai.ml.random.forest.trees=100
ai.ml.gradient.boost.iterations=100
ai.ml.lstm.sequence.length=50

# Reinforcement Learning Configuration (for AIConfigurationValidationTest)
ai.rl.exploration.rate=0.1
ai.rl.learning.rate=0.01
ai.rl.discount.factor=0.95
ai.rl.epsilon.decay=0.995
ai.rl.min.epsilon=0.01

# Anomaly Detection Configuration (for AIConfigurationValidationTest)
ai.anomaly.detection.contamination.rate=0.05
ai.anomaly.throughput.degradation.threshold=2.0
ai.anomaly.latency.spike.threshold=3.0
ai.anomaly.success.rate.degradation.threshold=2.0
ai.anomaly.resource.utilization.threshold=5.0

# AI Resource Configuration (for AIConfigurationValidationTest)
ai.resources.thread.pool.size=256
ai.resources.memory.limit.mb=4096
ai.resources.disk.cache.size.mb=1024
ai.executor.ai.processing.threads=128

# AI Monitoring Configuration (for AIConfigurationValidationTest)
ai.monitoring.enabled=true
ai.monitoring.interval.ms=5000
ai.monitoring.health.check.interval.ms=10000
ai.monitoring.metrics.retention.hours=168

# AI Batch Processing Configuration (for AIConfigurationValidationTest)
ai.batch.min.size=1000
ai.batch.max.size=100000
ai.batch.target.size=10000
ai.batch.timeout.ms=1000
ai.batch.optimization.interval.ms=5000

# AI Security Configuration (for AIConfigurationValidationTest)
ai.security.model.encryption.enabled=true
ai.security.data.anonymization.enabled=true
ai.security.audit.logging.enabled=true

# AI Data Retention (for AIConfigurationValidationTest)
ai.training.data.retention.days=90

# AI Integration Configuration (for AIConfigurationValidationTest)
ai.integration.enabled=true
ai.integration.consensus.service.enabled=true
ai.integration.sync.interval.ms=1000
ai.integration.circuit.breaker.enabled=true
ai.integration.circuit.breaker.failure.threshold=5

# AI Debug Configuration (for AIConfigurationValidationTest)
ai.debug.enabled=false
ai.debug.log.level=info
ai.test.mode.enabled=false
ai.test.benchmark.mode.enabled=false

# Predictive Routing Engine Configuration
routing.prediction.enabled=true
routing.prediction.window.ms=1000
routing.load.balance.threshold=0.8
routing.congestion.threshold=0.75
routing.node.count=5
routing.prediction.accuracy.target=0.90

# Anomaly Detection Configuration
anomaly.detection.enabled=true
anomaly.detection.sensitivity=0.95
anomaly.detection.window.size=1000
anomaly.detection.update.interval.ms=5000
anomaly.detection.alert.threshold=0.8
anomaly.detection.response.timeout.ms=30000
anomaly.detection.false.positive.target=0.02

# ML Load Balancer Configuration - SPRINT 6 ENHANCED
ml.loadbalancer.enabled=true
ml.loadbalancer.algorithm=REINFORCEMENT_LEARNING
ml.loadbalancer.rebalance.interval.ms=5000
ml.loadbalancer.prediction.window.ms=10000
ml.loadbalancer.resource.count=8
ml.loadbalancer.load.threshold=0.8
ml.loadbalancer.learning.rate=0.01
ml.loadbalancer.exploration.rate=0.1

# Sprint 6: Online Learning Configuration (3.5M TPS Target)
ml.loadbalancer.online.learning.enabled=true
ml.loadbalancer.experience.replay.size=10000
ml.loadbalancer.adaptive.learning.rate=true

# Adaptive Batch Processor Configuration - ULTRA-OPTIMIZED
batch.processor.enabled=true
batch.processor.min.size=1000
batch.processor.max.size=500000
batch.processor.default.size=250000
batch.processor.timeout.ms=1000
batch.processor.adaptation.interval.ms=500
batch.processor.parallel.workers=512
batch.processor.compression.enabled=true
batch.processor.priority.levels=8

# Development AI settings (smaller for testing)
%dev.ai.optimization.target.tps=500000
%dev.routing.node.count=3
%dev.ml.loadbalancer.resource.count=4
%dev.batch.processor.max.size=20000
%dev.batch.processor.parallel.workers=16

# Production AI settings (optimized for maximum performance)
%prod.ai.optimization.target.tps=5000000
%prod.routing.node.count=10
%prod.ml.loadbalancer.resource.count=16
%prod.batch.processor.max.size=200000
%prod.batch.processor.parallel.workers=128
%prod.ai.optimization.learning.rate=0.0001
%prod.ai.optimization.model.update.interval.ms=5000

# Ultra-Performance Configuration for 10M+ TPS Target - ULTRA-OPTIMIZED (Oct 21, 2025 - Sprint 11)
# Lock-free data structures, xxHash, 4K shards, 4M virtual threads
# SPRINT 11 OPTIMIZATION: Removed 50K batch size cap, using 175K max batch size
aurigraph.transaction.shards=4096
aurigraph.batch.size.optimal=175000
aurigraph.batch.size.max=175000
aurigraph.processing.parallelism=2048
aurigraph.virtual.threads.max=4000000
aurigraph.cache.size.max=50000000
aurigraph.ultra.performance.mode=true

# xxHash Optimization (Sprint 5-6: 10x+ faster than SHA-256)
xxhash.optimization.enabled=true

# Memory-Mapped Transaction Pool Configuration - ULTRA-OPTIMIZED
aurigraph.memory.pool.enabled=true
aurigraph.memory.pool.size.mb=8192
aurigraph.memory.pool.segments=512
aurigraph.memory.pool.allocation.strategy=LOCK_FREE
aurigraph.memory.pool.prealloc=true
aurigraph.memory.pool.huge.pages=true

# SIMD and Cache Optimization - PRODUCTION ENABLED
aurigraph.simd.enabled=true
aurigraph.simd.vector.size=512
aurigraph.cache.line.size=64
aurigraph.cache.prefetch=true
aurigraph.numa.aware=true
aurigraph.numa.interleave=true
aurigraph.cpu.affinity.enabled=true
aurigraph.cpu.cores=16
aurigraph.cpu.worker.threads=256

# Lock-Free Data Structure Configuration
aurigraph.lockfree.enabled=true
aurigraph.lockfree.retry.limit=1000
aurigraph.lockfree.backoff.strategy=EXPONENTIAL

# Virtual Thread Pool Configuration - SPRINT 11 PHASE 3 OPTIMIZED (Oct 21, 2025)
# Based on hot path profiling: Reduced thread count from 2,137 to 32 for optimal CPU utilization
# Profiling showed excessive thread switching overhead with higher counts
# Expected improvement: +15-20% TPS from reduced context switching
quarkus.virtual-threads.shutdown-timeout=60
quarkus.thread-pool.core-threads=1024
quarkus.thread-pool.max-threads=4096
quarkus.thread-pool.queue-size=500000

# SPRINT 11 HOT PATH OPTIMIZATION: Virtual thread scheduler tuning
# Limits virtual thread pool to prevent excessive context switching (was 2,137 threads)
# System property equivalents (use via JAVA_OPTS):
#   -Djdk.virtualThreadScheduler.parallelism=32
#   -Djdk.virtualThreadScheduler.maxPoolSize=32
# Note: These are JVM system properties, not Quarkus config. Add to startup command:
# java -Djdk.virtualThreadScheduler.parallelism=32 -Djdk.virtualThreadScheduler.maxPoolSize=32 -jar app.jar

# ==================== SPRINT 15 PHASE 1: JVM OPTIMIZATION (+18% TPS) ====================
# Target: 3.0M → 3.54M TPS (+540K improvement)
# Deployment Date: November 4, 2025
# Status: ✅ DEPLOYED

# G1GC Optimization Settings
# Reduces GC pause impact on transaction processing
quarkus.native.additional-build-args.gc=G1GC
# System properties for JVM mode (use via JAVA_OPTS):
#   -XX:+UseG1GC
#   -XX:MaxGCPauseMillis=100
#   -XX:+ParallelRefProcEnabled
#   -XX:G1HeapRegionSize=16M
#   -XX:InitiatingHeapOccupancyPercent=45

# Heap Memory Optimization (Reduced from 2.5GB to 2GB)
# Smaller heap = faster GC cycles, better cache locality
# System properties for JVM mode (use via JAVA_OPTS):
#   -Xms2G
#   -Xmx2G
#   -XX:MaxRAM=2G

# Virtual Thread Optimization (SPRINT 15 refinement)
# Optimized pool size for 3M+ TPS workload
# System properties for JVM mode (use via JAVA_OPTS):
#   -Djdk.virtualThreadScheduler.parallelism=32
#   -Djdk.virtualThreadScheduler.maxPoolSize=32
#   -Djdk.virtualThreadScheduler.minRunnable=8

# JIT Compiler Optimization
# C2 compiler for hot paths, tiered compilation for faster startup
# System properties for JVM mode (use via JAVA_OPTS):
#   -XX:+TieredCompilation
#   -XX:TieredStopAtLevel=4
#   -XX:CompileThreshold=1000

# Memory Management Optimization
# Disable explicit GC calls, use compressed pointers
# System properties for JVM mode (use via JAVA_OPTS):
#   -XX:+DisableExplicitGC
#   -XX:+UseCompressedOops
#   -XX:+UseCompressedClassPointers

# Performance Monitoring (for validation)
# Enable GC logging and JMX for monitoring
# System properties for JVM mode (use via JAVA_OPTS):
#   -Xlog:gc*:file=logs/gc.log:time,uptime:filecount=5,filesize=10M
#   -Dcom.sun.management.jmxremote
#   -Dcom.sun.management.jmxremote.port=9099
#   -Dcom.sun.management.jmxremote.authenticate=false
#   -Dcom.sun.management.jmxremote.ssl=false

# Expected Performance Impact (Phase 1 - JVM Tuning):
# - GC pause reduction: 50ms → 20ms average (-60%)
# - Memory overhead reduction: 2.5GB → 2.0GB (-20%)
# - Thread context switching: Optimized for 32 carrier threads
# - Overall TPS improvement: +18% (+540K TPS)
# - Target achievement: 3.54M TPS from 3.0M baseline

# ==================== END SPRINT 15 PHASE 1 ====================


# Regulatory Compliance
regulatory.fda.enabled=true
regulatory.gdpr.enabled=true
regulatory.soc2.type2.enabled=true
regulatory.automated.reporting=true

# RWA (Real-World Asset) Verification Configuration
aurigraph.rwa.verification.mode=OPTIONAL
aurigraph.rwa.verification.timeout=7
aurigraph.rwa.verification.max.verifiers=5
aurigraph.rwa.verification.min.consensus=0.51
aurigraph.rwa.verification.quantum.encryption.enabled=true

# RWA Asset Value Tiers and Verifier Requirements
aurigraph.rwa.tier1.max.value=100000
aurigraph.rwa.tier1.required.verifiers=1
aurigraph.rwa.tier2.max.value=1000000
aurigraph.rwa.tier2.required.verifiers=2
aurigraph.rwa.tier3.max.value=10000000
aurigraph.rwa.tier3.required.verifiers=3
aurigraph.rwa.tier4.required.verifiers=5

# RWA Digital Signature Configuration (CRYSTALS-Dilithium)
aurigraph.rwa.signature.algorithm=CRYSTALS_DILITHIUM
aurigraph.rwa.signature.security.level=5
aurigraph.rwa.signature.key.size=2528
aurigraph.rwa.hash.algorithm=SHA3_256

# Development RWA Settings (Relaxed for testing)
%dev.aurigraph.rwa.verification.mode=DISABLED
%dev.aurigraph.rwa.verification.timeout=1
%dev.aurigraph.rwa.verification.max.verifiers=2
%dev.aurigraph.rwa.verification.quantum.encryption.enabled=false

# Test RWA Settings (Optional for testing flows)
%test.aurigraph.rwa.verification.mode=OPTIONAL
%test.aurigraph.rwa.verification.timeout=2
%test.aurigraph.rwa.verification.max.verifiers=2
%test.aurigraph.rwa.verification.mock.enabled=true

# Production RWA Settings (Mandatory with maximum security)
%prod.aurigraph.rwa.verification.mode=MANDATORY
%prod.aurigraph.rwa.verification.timeout=7
%prod.aurigraph.rwa.verification.max.verifiers=5
%prod.aurigraph.rwa.verification.min.consensus=0.51
%prod.aurigraph.rwa.verification.quantum.encryption.enabled=true
%prod.aurigraph.rwa.verification.hsm.enabled=true
%prod.aurigraph.rwa.signature.security.level=5
# ===========================================
# V4 PROFILE CONFIGURATION (Port 9000)
# Enhanced for 3M+ TPS Production Deployment
# ===========================================

# V4 HTTP Configuration
%v4.quarkus.http.port=9000
%v4.quarkus.http.host=0.0.0.0
%v4.quarkus.http.http2=true

# V4 gRPC Configuration
%v4.quarkus.grpc.server.port=9001
%v4.quarkus.grpc.server.host=0.0.0.0
%v4.quarkus.grpc.server.use-separate-server=true

# V4 Performance Optimization
%v4.consensus.target.tps=3000000
%v4.consensus.batch.size=20000
%v4.consensus.parallel.threads=512
%v4.consensus.pipeline.depth=50

# V4 AI Optimization
%v4.ai.optimization.enabled=true
%v4.ai.optimization.target.tps=5000000
%v4.ai.optimization.learning.rate=0.0001
%v4.ai.optimization.model.update.interval.ms=3000

# V4 Ultra Performance Mode
%v4.aurigraph.ultra.performance.mode=true
%v4.aurigraph.transaction.shards=512
%v4.aurigraph.batch.size.optimal=25000
%v4.aurigraph.processing.parallelism=1024
%v4.aurigraph.virtual.threads.max=200000

# V4 Memory Optimization
%v4.aurigraph.memory.pool.enabled=true
%v4.aurigraph.memory.pool.size.mb=4096
%v4.aurigraph.memory.pool.segments=256

# V4 Native Compilation Settings
%v4.quarkus.native.additional-build-args=--initialize-at-run-time=io.netty.channel.unix.Socket,--enable-preview,--gc=G1
%v4.quarkus.native.container-build=false

# V4 CORS Configuration for Production
%v4.quarkus.http.cors=true
%v4.quarkus.http.cors.origins=https://dlt.aurigraph.io,http://dlt.aurigraph.io
%v4.quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
%v4.quarkus.http.cors.headers=Content-Type,Authorization,X-Requested-With,Accept,Origin
%v4.quarkus.http.cors.access-control-allow-credentials=true

# V4 Logging Configuration
%v4.quarkus.log.level=INFO
%v4.quarkus.log.category."io.aurigraph".level=INFO
%v4.quarkus.log.console.format=%d{HH:mm:ss} %-5p [V4][%c{2.}] (%t) %s%e%n

# V4 Monitoring and Health
%v4.quarkus.micrometer.enabled=true
%v4.quarkus.micrometer.export.prometheus.enabled=true
%v4.quarkus.smallrye-health.root-path=/v4/health


# Security filter configuration (required when security headers are configured)
quarkus.http.filter.security.matches=/*
# File logging disabled (deprecated property removed)

# Bridge configuration defaults (optional for initial deployment)
bridge.ethereum.private.key=${BRIDGE_ETH_KEY:placeholder}
bridge.solana.private.key=${BRIDGE_SOL_KEY:placeholder}
bridge.layerzero.relayer.address=${BRIDGE_LZ_RELAYER:placeholder}
bridge.layerzero.oracle.address=${BRIDGE_LZ_ORACLE:placeholder}
bridge.layerzero.private.key=${BRIDGE_LZ_KEY:placeholder}
bridge.solana.program.address=${BRIDGE_SOL_PROGRAM:placeholder}
bridge.processing.delay.min=5000
bridge.processing.delay.max=10000

# ==================== COMPLIANCE CONFIGURATION (AV11-406) ====================

# KYC/AML Provider Configuration
compliance.kyc.provider.enabled=true
compliance.kyc.verification.expiry.days=365
compliance.aml.provider.enabled=true
compliance.aml.check.interval.days=90

# Sanctions Screening Configuration
compliance.sanctions.enabled=true
compliance.sanctions.cache.ttl.hours=24
compliance.sanctions.auto.refresh.enabled=true

# Regulatory Reporting Configuration
compliance.reporting.enabled=true
compliance.reporting.auto.submit=false
compliance.reporting.retention.years=7

# Tax Reporting Configuration
compliance.tax.enabled=true
compliance.tax.auto.generate=false
compliance.tax.default.method=FIFO

# Development Compliance Settings (relaxed)
%dev.compliance.kyc.provider.enabled=false
%dev.compliance.aml.provider.enabled=false
%dev.compliance.sanctions.enabled=false
%dev.compliance.reporting.enabled=true
%dev.compliance.tax.enabled=true

# Production Compliance Settings (strict)
%prod.compliance.kyc.provider.enabled=true
%prod.compliance.aml.provider.enabled=true
%prod.compliance.sanctions.enabled=true
%prod.compliance.reporting.enabled=true
%prod.compliance.reporting.auto.submit=true
%prod.compliance.tax.enabled=true
%prod.compliance.kyc.verification.expiry.days=365
%prod.compliance.aml.check.interval.days=30

# ==================== DATABASE CONFIGURATION (AV11-406 + Sprint 9) ====================

# Default database (PostgreSQL for production-grade persistence)
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=aurigraph
quarkus.datasource.password=aurigraph-prod-secure-2025
quarkus.datasource.jdbc.url=jdbc:postgresql://dlt-postgres:5432/aurigraph_production

# Hibernate ORM configuration
# CHANGED: Using 'none' to skip schema validation (Flyway handles migrations)
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.log.sql=false
quarkus.hibernate-orm.sql-load-script=no-file

# Panache configuration - Include all entity packages
# Updated: Added auth, bridge.persistence, compliance.persistence, oracle, websocket, token.secondary packages
quarkus.hibernate-orm.packages=io.aurigraph.v11.models,\
  io.aurigraph.v11.contracts.rwa.compliance.entities,\
  io.aurigraph.v11.user,\
  io.aurigraph.v11.demo.model,\
  io.aurigraph.v11.auth,\
  io.aurigraph.v11.bridge.persistence,\
  io.aurigraph.v11.compliance.persistence,\
  io.aurigraph.v11.oracle,\
  io.aurigraph.v11.websocket,\
  io.aurigraph.v11.token.secondary

# Development database settings (PostgreSQL - dev database)
%dev.quarkus.datasource.db-kind=postgresql
%dev.quarkus.datasource.username=aurigraph
%dev.quarkus.datasource.password=aurigraph-prod-secure-2025
%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://dlt-postgres:5432/aurigraph_production
# CHANGED: Using 'none' to skip schema validation (Flyway handles migrations)
%dev.quarkus.hibernate-orm.database.generation=none
%dev.quarkus.hibernate-orm.log.sql=true

# Test database settings (PostgreSQL - test database with dedicated user)
%test.quarkus.datasource.db-kind=postgresql
%test.quarkus.datasource.username=aurigraph_test_user
%test.quarkus.datasource.password=test_password
%test.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/aurigraph_test
%test.quarkus.hibernate-orm.database.generation=update
%test.quarkus.hibernate-orm.log.sql=false
# Disable Flyway in test mode (use Hibernate auto-generation instead)
%test.quarkus.flyway.migrate-at-start=false

# Production database settings (PostgreSQL for production-grade persistence)
%prod.quarkus.datasource.db-kind=postgresql
%prod.quarkus.datasource.username=aurigraph
%prod.quarkus.datasource.password=aurigraph-prod-secure-2025
%prod.quarkus.datasource.jdbc.url=jdbc:postgresql://dlt-postgres:5432/aurigraph_production
# REVERTED TO PHASE 1 (Oct 21, 2025): Phase 2 caused performance degradation
%prod.quarkus.datasource.jdbc.max-size=20
%prod.quarkus.datasource.jdbc.min-size=5
# CHANGED: Using 'none' to skip schema validation (Flyway handles migrations)
%prod.quarkus.hibernate-orm.database.generation=none
%prod.quarkus.hibernate-orm.log.sql=false

# Connection pool settings - OPTIMIZED FOR 25 CONCURRENT NODES (Nov 22, 2025)
# Each node uses ~5-10 connections, 25 nodes = ~125-250 connections total
# PostgreSQL max_connections set to 500 to support this load
quarkus.datasource.jdbc.max-size=20
quarkus.datasource.jdbc.min-size=5
quarkus.datasource.jdbc.initial-size=8
quarkus.datasource.jdbc.acquisition-timeout=10
quarkus.datasource.jdbc.background-validation-interval=2M
quarkus.datasource.jdbc.idle-removal-interval=10M
quarkus.datasource.jdbc.max-lifetime=PT30M
quarkus.datasource.jdbc.leak-detection-interval=PT5M
# Enable prepared statement caching for performance
quarkus.datasource.jdbc.enable-metrics=true
quarkus.datasource.jdbc.detection-interval=PT2M
quarkus.datasource.jdbc.validation-query=SELECT 1

# ==================== FLYWAY DATABASE MIGRATION CONFIGURATION ====================

# Enable Flyway migrations for database schema management
quarkus.flyway.migrate-at-start=true
quarkus.flyway.baseline-on-migrate=true
quarkus.flyway.clean-disabled=false
quarkus.flyway.repair-on-migrate=true
quarkus.flyway.validate-on-migrate=false

# Development Flyway settings
%dev.quarkus.flyway.migrate-at-start=true
%dev.quarkus.flyway.baseline-on-migrate=true
%dev.quarkus.flyway.repair-on-migrate=true
%dev.quarkus.flyway.validate-on-migrate=false
%dev.quarkus.flyway.clean-disabled=false

# Test Flyway settings - DISABLED (use Hibernate schema generation)
%test.quarkus.flyway.migrate-at-start=false
%test.quarkus.flyway.baseline-on-migrate=false
%test.quarkus.flyway.clean-disabled=true
%test.quarkus.flyway.repair-on-migrate=false

# Production Flyway settings
%prod.quarkus.flyway.migrate-at-start=true
%prod.quarkus.flyway.baseline-on-migrate=false
%prod.quarkus.flyway.clean-disabled=true
%prod.quarkus.flyway.repair-on-migrate=false
%prod.quarkus.flyway.validate-on-migrate=false

# ==================== REDIS CACHING CONFIGURATION (AV11 Sprint 20+) ====================

# Default Redis configuration (Production - localhost for host-based deployment)
quarkus.redis.hosts=redis://localhost:6379
quarkus.redis.password=redis-cache-password-2025
quarkus.redis.max-pool-size=10
quarkus.redis.min-idle=5
quarkus.redis.timeout=10000

# Development Redis settings (localhost)
%dev.quarkus.redis.hosts=redis://localhost:6379
%dev.quarkus.redis.password=
%dev.quarkus.redis.max-pool-size=5
%dev.quarkus.redis.min-idle=2

# Test Redis settings (in-memory or testcontainer)
%test.quarkus.redis.hosts=redis://localhost:6379
%test.quarkus.redis.password=
%test.quarkus.redis.max-pool-size=2

# Production Redis settings (localhost for host-based deployment)
%prod.quarkus.redis.hosts=redis://localhost:6379
%prod.quarkus.redis.password=redis-cache-password-2025
%prod.quarkus.redis.max-pool-size=20
%prod.quarkus.redis.min-idle=10

# Cache key prefixes for different components
cache.prefix.approval=aurigraph:approval:
cache.prefix.token=aurigraph:token:
cache.prefix.validation=aurigraph:validation:
cache.prefix.metrics=aurigraph:metrics:

# Cache TTL settings (in seconds)
cache.ttl.approval=3600
cache.ttl.token=7200
cache.ttl.validation=1800
cache.ttl.metrics=300

# Cache expiration policies
cache.eviction.enabled=true
cache.eviction.policy=lru
cache.max-entries=100000

hsm.pin=test-pin-12345

# ==================== BRIDGE CONFIGURATION MANAGEMENT (Priority 3 Implementation) ====================

# Hibernate ORM packages - REMOVED DUPLICATE (configured at line 859)
# Bridge entities now included in main hibernate-orm.packages configuration

# Bridge Configuration Loader - Initial Chain Setup
bridge.config.load-defaults=true
bridge.config.default-chains=ethereum,polygon,solana

# Ethereum Mainnet Configuration
bridge.chain.ethereum.chain-id=1
bridge.chain.ethereum.display-name=Ethereum Mainnet
bridge.chain.ethereum.rpc-url=https://eth-mainnet.g.alchemy.com/v2/demo
bridge.chain.ethereum.block-time.ms=12000
bridge.chain.ethereum.confirmations=15
bridge.chain.ethereum.family=EVM
bridge.chain.ethereum.min-amount=0.1
bridge.chain.ethereum.max-amount=1000
bridge.chain.ethereum.base-fee=0.001

# Polygon Configuration
bridge.chain.polygon.chain-id=137
bridge.chain.polygon.display-name=Polygon (Matic)
bridge.chain.polygon.rpc-url=https://polygon-rpc.com/
bridge.chain.polygon.block-time.ms=2000
bridge.chain.polygon.confirmations=256
bridge.chain.polygon.family=EVM
bridge.chain.polygon.min-amount=10
bridge.chain.polygon.max-amount=10000
bridge.chain.polygon.base-fee=0.0005

# Solana Configuration
bridge.chain.solana.chain-id=mainnet-beta
bridge.chain.solana.display-name=Solana Mainnet
bridge.chain.solana.rpc-url=https://api.mainnet-beta.solana.com
bridge.chain.solana.block-time.ms=400
bridge.chain.solana.confirmations=32
bridge.chain.solana.family=SOLANA
bridge.chain.solana.min-amount=0.01
bridge.chain.solana.max-amount=100
bridge.chain.solana.base-fee=0.0002

# Development Bridge Settings
%dev.bridge.config.load-defaults=true
%dev.bridge.chain.ethereum.rpc-url=https://eth-goerli.g.alchemy.com/v2/demo
%dev.bridge.chain.polygon.rpc-url=https://rpc-mumbai.maticvigil.com

# Test Bridge Settings
%test.bridge.config.load-defaults=true
%test.quarkus.hibernate-orm.packages=io.aurigraph.v11.models,io.aurigraph.v11.contracts.rwa.compliance.entities,io.aurigraph.v11.user,io.aurigraph.v11.demo.model,io.aurigraph.v11.bridge.model

# Production Bridge Settings
%prod.bridge.config.load-defaults=true
%prod.bridge.chain.ethereum.rpc-url=https://eth-mainnet.g.alchemy.com/v2/PRODUCTION_KEY

# ==================== LEVELDB SECURITY CONFIGURATION (Oct 2025 - Security Enhancement) ====================

# LevelDB Encryption (AES-256-GCM) - DISABLED by default, enable in production
leveldb.encryption.enabled=false
leveldb.encryption.algorithm=AES-256-GCM
leveldb.encryption.key.path=~/.aurigraph/keys/leveldb-master.key
leveldb.encryption.key.rotation.days=90
leveldb.encryption.master.password=changeme-default-password

# Development overrides for LevelDB encryption key path
%dev.leveldb.encryption.key.path=~/.aurigraph/keys/leveldb-master.key
%test.leveldb.encryption.key.path=~/.aurigraph/keys/leveldb-test.key

# LevelDB HSM Integration (for production)
leveldb.encryption.hsm.enabled=false
leveldb.encryption.hsm.provider=PKCS11
leveldb.encryption.hsm.slot=0

# LevelDB Access Control (RBAC) - DISABLED by default
leveldb.security.rbac.enabled=false
leveldb.security.allow.anonymous=true

# LevelDB Input Validation
leveldb.validation.enabled=true
leveldb.validation.max.key.length=1024
leveldb.validation.max.value.length=10485760

# LevelDB Backup (Encrypted)
leveldb.backup.path=/var/lib/aurigraph/backups/leveldb
leveldb.backup.retention.days=30
leveldb.backup.compression.enabled=true
leveldb.backup.encryption.enabled=true
leveldb.backup.automatic.enabled=true

# LevelDB Security Audit
leveldb.security.audit.enabled=true
leveldb.security.audit.retention.days=365

# Development Settings - Less Strict
%dev.leveldb.encryption.enabled=false
%dev.leveldb.security.rbac.enabled=false
%dev.leveldb.encryption.key.path=./data/keys/leveldb-dev.key
%dev.leveldb.encryption.master.password=dev-password
%dev.leveldb.backup.path=./data/backups
%dev.leveldb.backup.retention.days=7
%dev.leveldb.security.allow.anonymous=true

# Test Settings - Disabled Security
%test.leveldb.encryption.enabled=false
%test.leveldb.security.rbac.enabled=false
%test.leveldb.validation.enabled=false
%test.leveldb.backup.encryption.enabled=false
%test.leveldb.security.audit.enabled=false

# Test Settings - Disable Encryption Service Initialization
%test.encryption.enabled=false
%test.leveldb.encryption.key.path=/tmp/test-encryption-key.bin
%test.leveldb.encryption.master.password=test-password-for-ci
%test.leveldb.encryption.hsm.enabled=false
%test.ai.security.model.encryption.enabled=false
%test.aurigraph.rwa.verification.quantum.encryption.enabled=false

# Production Settings - Maximum Security
%prod.leveldb.encryption.enabled=true
%prod.leveldb.encryption.hsm.enabled=false
%prod.leveldb.security.rbac.enabled=true
%prod.leveldb.security.allow.anonymous=false
%prod.leveldb.validation.enabled=true
%prod.leveldb.backup.encryption.enabled=true
%prod.leveldb.backup.retention.days=90
%prod.leveldb.security.audit.enabled=true
%prod.leveldb.encryption.master.password=aurigraph-leveldb-prod-2025

# ==================== END LEVELDB SECURITY CONFIGURATION ====================

# ==================== QUANTUM CRYPTOGRAPHY CONFIGURATION (SPRINT 6 - NIST LEVEL 5) ====================

# CRYSTALS-Kyber Configuration (Key Encapsulation Mechanism)
# NIST Level 5 = Kyber-1024 (256-bit quantum security)
aurigraph.crypto.kyber.security-level=5
aurigraph.crypto.kyber.enabled=true
aurigraph.crypto.kyber.algorithm=Kyber-1024

# CRYSTALS-Dilithium Configuration (Digital Signatures)
# NIST Level 5 = Dilithium5 (256-bit quantum security)
aurigraph.crypto.dilithium.security-level=5
aurigraph.crypto.dilithium.enabled=true
aurigraph.crypto.dilithium.algorithm=Dilithium5

# SPHINCS+ Configuration (Hash-based Signatures - Backup)
# NIST Level 5 = SHA2-256s (256-bit quantum security)
aurigraph.crypto.sphincs.security-level=5
aurigraph.crypto.sphincs.enabled=true
aurigraph.crypto.sphincs.algorithm=SHA2-256s

# Quantum Cryptography General Settings
aurigraph.crypto.quantum.enabled=true
aurigraph.crypto.quantum.nist-level=5
aurigraph.crypto.quantum.bit-security=256
aurigraph.crypto.performance.target=10000

# HSM Integration (Hardware Security Module)
aurigraph.crypto.hsm.enabled=false
aurigraph.crypto.hsm.provider=PKCS11
aurigraph.crypto.hsm.library.path=/usr/lib/softhsm/libsofthsm2.so
aurigraph.crypto.hsm.slot=0
aurigraph.crypto.hsm.key-rotation.days=90

# Key Management
aurigraph.crypto.key.rotation.enabled=true
aurigraph.crypto.key.rotation.interval.days=90
aurigraph.crypto.key.storage.encrypted=true
aurigraph.crypto.key.backup.enabled=true

# Performance Metrics
aurigraph.crypto.metrics.enabled=true
aurigraph.crypto.metrics.interval.ms=5000

# Development Settings (Level 3 for faster testing)
%dev.aurigraph.crypto.kyber.security-level=3
%dev.aurigraph.crypto.dilithium.security-level=3
%dev.aurigraph.crypto.sphincs.security-level=3
%dev.aurigraph.crypto.quantum.nist-level=3
%dev.aurigraph.crypto.quantum.bit-security=192
%dev.aurigraph.crypto.hsm.enabled=false
%dev.aurigraph.crypto.key.rotation.enabled=false

# Test Settings (Level 3 for faster tests)
%test.aurigraph.crypto.kyber.security-level=3
%test.aurigraph.crypto.dilithium.security-level=3
%test.aurigraph.crypto.sphincs.security-level=3
%test.aurigraph.crypto.quantum.nist-level=3
%test.aurigraph.crypto.quantum.bit-security=192
%test.aurigraph.crypto.hsm.enabled=false
%test.aurigraph.crypto.metrics.enabled=false

# Production Settings (Level 5 for maximum security)
%prod.aurigraph.crypto.kyber.security-level=5
%prod.aurigraph.crypto.dilithium.security-level=5
%prod.aurigraph.crypto.sphincs.security-level=5
%prod.aurigraph.crypto.quantum.nist-level=5
%prod.aurigraph.crypto.quantum.bit-security=256
%prod.aurigraph.crypto.hsm.enabled=true
%prod.aurigraph.crypto.key.rotation.enabled=true
%prod.aurigraph.crypto.key.rotation.interval.days=90

# ==================== END QUANTUM CRYPTOGRAPHY CONFIGURATION ====================

# ==================== CURBY QUANTUM SERVICE INTEGRATION (AV11-482) ====================
# CURBy Quantum Service for Post-Quantum Cryptography
# Features: REST API integration, QKD, Hybrid Crypto, Circuit Breaker, Fallback

# CURBy Service Configuration
curby.quantum.url=https://api.curby.quantum.io
curby.quantum.api-key=demo-key-for-container-nodes
curby.quantum.enabled=true
curby.quantum.fallback=true
curby.quantum.algorithm=CRYSTALS-Dilithium

# Connection and Timeout Settings
curby.quantum.timeout.seconds=30
curby.quantum.retry.max-attempts=3
curby.quantum.retry.base-delay-ms=100

# Circuit Breaker Configuration
curby.quantum.circuit-breaker.failure-threshold=5
curby.quantum.circuit-breaker.reset-timeout-ms=60000

# Key Cache Settings (TTL-based caching)
curby.quantum.key-cache.ttl-seconds=300

# Health Check Monitoring
curby.quantum.health-check.interval-seconds=30

# Quantum Key Distribution (QKD) Configuration
qkd.enabled=true
qkd.key.rotation.interval.minutes=60
qkd.key.expiry.minutes=120
qkd.key.cache.max-size=10000
qkd.master.key.path=/var/lib/aurigraph/qkd/master.key
qkd.encryption.algorithm=AES-256-GCM

# Hybrid Cryptography Configuration
hybrid.crypto.enabled=true
hybrid.crypto.quantum-weight=0.7
hybrid.crypto.classical-weight=0.3
hybrid.crypto.backward-compatible=true

# Development Settings (CURBy + QKD + Hybrid)
%dev.curby.quantum.url=https://api-dev.curby.quantum.io
%dev.curby.quantum.enabled=false
%dev.curby.quantum.fallback=true
%dev.qkd.enabled=true
%dev.qkd.key.rotation.interval.minutes=15
%dev.qkd.key.expiry.minutes=30
%dev.qkd.master.key.path=./data/qkd/dev-master.key
%dev.hybrid.crypto.enabled=true

# Test Settings (Mock enabled)
%test.curby.quantum.enabled=false
%test.curby.quantum.fallback=true
%test.qkd.enabled=false
%test.hybrid.crypto.enabled=true

# Production Settings (Maximum security)
%prod.curby.quantum.enabled=true
%prod.curby.quantum.fallback=true
%prod.curby.quantum.timeout.seconds=60
%prod.curby.quantum.circuit-breaker.failure-threshold=10
%prod.qkd.enabled=true
%prod.qkd.key.rotation.interval.minutes=30
%prod.qkd.key.expiry.minutes=60
%prod.qkd.master.key.path=/var/lib/aurigraph/qkd/master.key
%prod.hybrid.crypto.enabled=true
%prod.hybrid.crypto.quantum-weight=0.8
%prod.hybrid.crypto.classical-weight=0.2

# ==================== END CURBY QUANTUM SERVICE INTEGRATION ====================

# ==================== WEBSOCKET CONFIGURATION ====================
# Real-time WebSocket streaming for Enterprise Portal integration
# 5 endpoints: Metrics, Transactions, Validators, Consensus, Network

# WebSocket frame and message limits


# Connection limits for production scalability
quarkus.http.limits.max-connections=5000

# WebSocket compression for bandwidth optimization


# Broadcast settings
websocket.broadcast.enabled=true
websocket.broadcast.metrics.interval=1s
websocket.broadcast.compression=true
websocket.broadcast.latency.target.ms=100

# Development WebSocket settings (more verbose logging)
%dev.quarkus.log.category."io.aurigraph.v11.websocket".level=DEBUG
%dev.websocket.broadcast.metrics.interval=2s

# Production WebSocket settings (optimized)
%prod.quarkus.http.limits.max-connections=10000
%prod.websocket.broadcast.compression=true
%prod.quarkus.log.category."io.aurigraph.v11.websocket".level=INFO

# ==================== END WEBSOCKET CONFIGURATION ====================

# ==================== PORTAL CACHING CONFIGURATION ====================
# Cache for Portal API Gateway data services
# Improves response time and reduces backend load

# Blockchain Health & Metrics Caching (30s - updates frequently)
quarkus.cache.type=caffeine


# System Information Caching (5min - stable during runtime)


# Blockchain Metrics Caching (10s - updated frequently)


# Token & RWA Caching (1min - moderate changes)


# Analytics Caching (2min - slower changing)


# Network Status Caching (30s - updates frequently)


# ==================== END PORTAL CACHING CONFIGURATION ====================


# ==================== ORACLE VERIFICATION CONFIGURATION (AV11-483) ====================

# Oracle Verification - Core Settings
oracle.verification.enabled=true
oracle.verification.min.consensus=0.51
oracle.verification.price.tolerance=0.05
oracle.verification.timeout.seconds=10

# Oracle Data Retention and Cleanup
oracle.verification.retention.days=90
oracle.verification.archive.days=30
oracle.verification.cleanup.enabled=true

# Chainlink Oracle Configuration
oracle.chainlink.api.url=https://api.chain.link
oracle.chainlink.api.key=NONE
oracle.chainlink.fallback.enabled=true

# Pyth Network Configuration
oracle.pyth.api.url=https://hermes.pyth.network
oracle.pyth.api.key=NONE
oracle.pyth.confidence.threshold=0.95

# Band Protocol Configuration
oracle.band.api.url=https://laozi1.bandchain.org
oracle.band.api.key=NONE
oracle.band.min.validators=4

# Oracle Health Monitoring
oracle.health.check.interval.seconds=30
oracle.health.min.reliability.threshold=0.7

# Development Oracle Settings (relaxed)
%dev.oracle.verification.enabled=true
%dev.oracle.verification.min.consensus=0.51
%dev.oracle.verification.price.tolerance=0.10
%dev.oracle.verification.cleanup.enabled=false
%dev.oracle.verification.retention.days=7

# Test Oracle Settings (mock enabled)
%test.oracle.verification.enabled=true
%test.oracle.verification.mock.enabled=true
%test.oracle.verification.cleanup.enabled=false

# Production Oracle Settings (strict)
%prod.oracle.verification.enabled=true
%prod.oracle.verification.min.consensus=0.67
%prod.oracle.verification.price.tolerance=0.03
%prod.oracle.verification.cleanup.enabled=true
%prod.oracle.verification.retention.days=180
%prod.oracle.health.min.reliability.threshold=0.85

# ==================== GRAPHQL SCHEMA CONFIGURATION (Temporary Workaround) ====================
# Temporary: Disable GraphQL to unblock service startup while investigating schema validation error
# Error: SmallRye GraphQL reports "Object must define one or more fields"
# Root cause: One of the GraphQL types is being created without any fields
# Workaround: Comment out this line once the issue is fixed


# ==================== END ORACLE VERIFICATION CONFIGURATION ====================
