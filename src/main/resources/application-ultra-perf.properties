# Aurigraph V11 Ultra Performance Configuration
# Target: 2M+ TPS
# Optimized for: Maximum throughput, Low latency

# Application
quarkus.application.name=aurigraph-v11-ultra-perf
quarkus.application.version=11.0.0-ultra

# HTTPS with TLS 1.3 (Ultra Optimized)
quarkus.http.port=8080
quarkus.http.host=0.0.0.0
quarkus.http.insecure-requests=disabled
quarkus.http.ssl-port=8443
quarkus.http.ssl.certificate.key-store-file=certs/keystore.p12
quarkus.http.ssl.certificate.key-store-password=password
quarkus.http.ssl.certificate.key-store-file-type=PKCS12
quarkus.http.ssl.protocols=TLSv1.3
quarkus.http.ssl.cipher-suites=TLS_AES_256_GCM_SHA384

# HTTP/2 Ultra Configuration - MAXIMUM THROUGHPUT
quarkus.http.http2=true
quarkus.http.limits.max-concurrent-streams=1000000
quarkus.http.limits.max-frame-size=16777215
quarkus.http.limits.initial-window-size=16777216
quarkus.http.limits.max-header-size=65536
quarkus.http.limits.max-chunk-size=16384
quarkus.http.io-threads=256
quarkus.http.worker-threads=2048

# gRPC Ultra High Performance
quarkus.grpc.server.port=9004
quarkus.grpc.server.host=0.0.0.0
quarkus.grpc.server.use-separate-server=true
quarkus.grpc.server.enable-reflection-service=true
quarkus.grpc.server.keep-alive-time=10
quarkus.grpc.server.keep-alive-timeout=2
quarkus.grpc.server.permit-keep-alive-time=5
quarkus.grpc.server.permit-keep-alive-without-calls=true
quarkus.grpc.server.max-inbound-message-size=67108864
quarkus.grpc.server.max-inbound-metadata-size=65536
quarkus.grpc.server.max-connection-idle=600
quarkus.grpc.server.max-connection-age=1200
quarkus.grpc.server.max-connection-age-grace=120

# Virtual Threads - ULTRA MODE (Java 21)
quarkus.virtual-threads.enabled=true
quarkus.virtual-threads.name-pattern=aurigraph-ultra-vt-#
quarkus.virtual-threads.max-pooled=10000000
quarkus.virtual-threads.executor.max-threads=10000000
quarkus.virtual-threads.shutdown-timeout=120

# Thread Pool - Ultra Configuration
quarkus.thread-pool.core-threads=512
quarkus.thread-pool.max-threads=4096
quarkus.thread-pool.queue-size=100000
quarkus.thread-pool.growth-resistance=0.1
quarkus.thread-pool.keep-alive-time=60

# Reactive Programming - Ultra Performance
quarkus.vertx.event-loops-pool-size=256
quarkus.vertx.worker-pool-size=2048
quarkus.vertx.max-event-loop-execute-time=10
quarkus.vertx.max-worker-execute-time=120
quarkus.vertx.warning-exception-time=5
quarkus.vertx.prefer-native-transport=true

# Netty - Zero-Copy Optimizations
quarkus.netty.allocator-type=pooled
quarkus.netty.event-loop-threads=256
quarkus.netty.use-direct-buffer=true
quarkus.netty.prefer-native-transport=true

# Database Connection Pool - Ultra Performance
quarkus.datasource.jdbc.max-size=1000
quarkus.datasource.jdbc.min-size=100
quarkus.datasource.jdbc.initial-size=100
quarkus.datasource.jdbc.acquisition-timeout=5
quarkus.datasource.jdbc.leak-detection-interval=300

# Caching - Maximum Performance
quarkus.cache.enabled=true
quarkus.cache.type=caffeine
quarkus.cache.caffeine.maximum-size=1000000

# Logging - Minimal Overhead
quarkus.log.level=WARN
quarkus.log.console.enable=true
quarkus.log.console.format=%d{HH:mm:ss} %-5p %s%e%n
quarkus.log.console.async=true
quarkus.log.console.async.queue-length=10000

# Metrics - Performance Monitoring
quarkus.micrometer.enabled=true
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.export.prometheus.path=/metrics
quarkus.micrometer.binder.http-server.enabled=true
quarkus.micrometer.binder.jvm.enabled=true
quarkus.micrometer.binder.system.enabled=true

# Native Compilation Hints
quarkus.native.additional-build-args=\
  -H:+UnlockExperimentalVMOptions,\
  -H:+UseG1GC,\
  -H:-DeadlockWatchdogExitOnTimeout,\
  -H:DeadlockWatchdogInterval=0,\
  --initialize-at-build-time=org.eclipse.microprofile.config,\
  --allow-incomplete-classpath,\
  -march=native,\
  -O3

# Aurigraph-Specific Performance Settings
aurigraph.consensus.target-tps=3000000
aurigraph.consensus.batch-size=100000
aurigraph.consensus.parallel-threads=2048
aurigraph.consensus.async-validation=true
aurigraph.consensus.prefetch-enabled=true
aurigraph.consensus.zero-copy=true

aurigraph.transaction.pool-size=1000000
aurigraph.transaction.validation-threads=1024
aurigraph.transaction.batch-processing=true
aurigraph.transaction.async-commit=true

aurigraph.network.max-peers=10000
aurigraph.network.connection-timeout=5000
aurigraph.network.read-timeout=10000
aurigraph.network.write-timeout=10000

aurigraph.performance.enable-jit-compilation=true
aurigraph.performance.aggressive-opts=true
aurigraph.performance.inline-hot-paths=true
aurigraph.performance.zero-copy-buffers=true
